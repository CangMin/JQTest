<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>14AjaxGET</title>
<link rel="stylesheet" href="" />
<script src="../js/jquery-1.10.1.js"></script>
<script src="../js/handlebars v2.0.0-alpha.4.js"></script>
<script src="../js/handlebars-jquery.js"></script>
<script src="../js/jquery.validate.js"></script><!-- 导入插件文件 -->

<meta name="viewport" content="width=device-width, initial-scale=1">


<style>
	.drow{
		float:left;
	}
	.dcell{
		float:left;
	}
</style>
</head>
<body>
<h1>花</h1>
<form method="post" action="">
<div id="oblock">
	<div class="dtable">
		<div id="row1" class="drow">

		</div>
		<div id="row2" class="drow">
			
		</div>

	</div>
</div>

<div id="buttonDiv"><button type="submit">订购</button></div>	
</form>
<!-- 使用数据模板 -->
<script id="flowerTmpl" type="text/x-handlebars-template">
{{#each flowers}}
<div class="dcell">
<img src="../img/{{product}}.png"/>
<label for="{{product}}">{{name}}:</label>
<input name="{{product}}" data-price="{{price}}" data-stock="{{stock}}" value="0" required/>
</div>
{{/each}}
</script>

//  <script type="text/javascript">
// //获取flowers.html
// 	$(document).ready(function(){
// 		$("<button>ajax</button>").appendTo("#buttonDiv").click(function(e){
// 		$.get("flowers.html",function(data){
// 			var elems=$(data).filter("div").addClass("dcell");
// 			elems.slice(0,3).appendTo("#row1");
// 			elems.slice(3).appendTo("#row2");
// 		});
// 		e.preventDefault();
// 		});
// 	});
//  </script>

 <script type="text/javascript">

	$(document).ready(function(){
		
		var requestData={
			country:"us",
			state:"New York"
		};
		$("<button>ajax</button>").appendTo("#buttonDiv").click(function(e){
		$.get("flowersdata.json",requestData,function(data){
			var temp=$("#flowerTmpl").template({flowers:data}).filter("*");
			temp.slice(0,3).appendTo("#row1");
			temp.slice(3).appendTo("#row2");
		});

		e.preventDefault();
		});
	});

 </script>


</body>
</html>